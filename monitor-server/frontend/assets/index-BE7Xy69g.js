import{E as n}from"./index-Dm3Rljzc.js";const o="production";console.log("Current ENV:",o);const i={development:{baseURL:"http://localhost:12800",wsURL:"ws://localhost:12800"},production:{baseURL:"http://10.15.97.66:42800",wsURL:"ws://10.15.97.66:42800"}},a=i[o];console.log("Current Config:",a);const c={env:o,baseURL:a.baseURL,wsURL:a.wsURL,wsDashboardPath:"/ws/dashboard",getDashboardWsURL(){return`${this.wsURL}${this.wsDashboardPath}`}};async function e(t,r={}){try{const s=await fetch(`${c.baseURL}${t}`,{...r,headers:{"Content-Type":"application/json",...r.headers}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){throw console.error("API request failed:",s),n.error("请求失败："+s.message),s}}const g={getDashboard(){return e("/api/dashboard")},getPodDashboard(t){const r=new URLSearchParams(t).toString();return e(`/api/pod-dashboard?${r}`)},getPodMetrics(t){const r=new URLSearchParams(t).toString();return e(`/api/pod-metrics?${r}`)},getHostMetrics(t){const r=new URLSearchParams(t).toString();return e(`/api/host-metrics?${r}`)},getHosts(){return e("/api/host-management")},addHost(t){return e("/api/host-management",{method:"POST",body:JSON.stringify(t)})},updateHost(t){return e("/api/host-management",{method:"PUT",body:JSON.stringify(t)})},deleteHost(t){return e(`/api/host-management?ip=${t}`,{method:"DELETE"})},getAlertConfig(){return e("/api/alert-metrics")},updateAlertConfig(t){return e("/api/alert-config",{method:"POST",body:JSON.stringify(t)})}};export{g as a,c};

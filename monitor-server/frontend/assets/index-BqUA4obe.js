import{E as n}from"./index-Btzy4ki5.js";const a="production";console.log("Current ENV:",a);const i={development:{baseURL:"http://localhost:12800",wsURL:"ws://localhost:12800"},production:{baseURL:"http://localhost:12800",wsURL:"ws://localhost:12800"}},s=i[a];console.log("Current Config:",s);const c={env:a,baseURL:s.baseURL,wsURL:s.wsURL,wsDashboardPath:"/ws/dashboard",getDashboardWsURL(){return`${this.wsURL}${this.wsDashboardPath}`}};async function e(t,r={}){try{const o=await fetch(`${c.baseURL}${t}`,{...r,headers:{"Content-Type":"application/json",...r.headers}});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(o){throw console.error("API request failed:",o),n.error("请求失败："+o.message),o}}const g={getDashboard(){return e("/api/dashboard")},getPodDashboard(t){const r=new URLSearchParams(t).toString();return e(`/api/pod-dashboard?${r}`)},getPodMetrics(t){const r=new URLSearchParams(t).toString();return e(`/api/pod-metrics?${r}`)},getHostMetrics(t){const r=new URLSearchParams(t).toString();return e(`/api/host-metrics?${r}`)},getHosts(){return e("/api/host-management")},addHost(t){return e("/api/host-management",{method:"POST",body:JSON.stringify(t)})},updateHost(t){return e("/api/host-management",{method:"PUT",body:JSON.stringify(t)})},deleteHost(t){return e(`/api/host-management?ip=${t}`,{method:"DELETE"})},getAlertConfig(){return e("/api/alert-metrics")},updateAlertConfig(t){return e("/api/alert-config",{method:"POST",body:JSON.stringify(t)})}};export{g as a,c};
